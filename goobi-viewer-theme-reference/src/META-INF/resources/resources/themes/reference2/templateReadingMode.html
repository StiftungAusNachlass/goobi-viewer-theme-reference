<!DOCTYPE html [
	<!ENTITY copy "&#169;">
	<!ENTITY times "&#215;">
	<!ENTITY nbsp "&#160;">
]>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:viewerComponent="http://xmlns.jcp.org/jsf/composite/components"
      xmlns:widgetComponent="http://xmlns.jcp.org/jsf/composite/components/widgets"
      xmlns:templateComponent="http://xmlns.jcp.org/jsf/composite/themes/zlb2/components">

<h:head profile="http://dublincore.org/documents/dcq-html/">

	<ui:insert name="head" />

	<meta charset="utf-8" />
	<meta name="description" content="" />
	<meta name="generator" content="intranda viewer" />
	<meta name="version" content="#{navigationHelper.version}" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title><h:outputText value="#{activeDocumentBean.titleBarLabel} - " rendered="#{activeDocumentBean.titleBarLabel != null}" />Zentral- und Landesbibliothek Berlin</title>
    
    <!-- Favicon -->
    <link rel="shortcut icon" href="#{request.contextPath}/resources/themes/#{navigationHelper.theme}/images/template/favicon.ico" />
    
    <!-- basic CSS -->
    <link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/css/libs/bs/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/css/libs/font-awesome.min.css" />
	<link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/css/dist/viewer.min.css" />

	<!-- custom CSS -->
	<link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/themes/#{navigationHelper.theme}/css/dist/#{navigationHelper.theme}.min.css" />
    
    <!-- Forces PrimeFaces to Include jquery & jquery-ui -->
    <h:outputScript library="primefaces" name="/jquery/jquery.js" target="head" />
    <h:outputScript library="primefaces" name="/jquery/jquery-plugins.js" target="head" />
    
    <!-- JavaScript -->
    <script type="text/javascript" src="#{request.contextPath}/resources/javascript/bs/bootstrap.min.js"></script>
    <script type="text/javascript" src="#{request.contextPath}/resources/javascript/reactiveX/rx.lite.min.js"></script>
    <script type="text/javascript" src="#{request.contextPath}/resources/javascript/q-promises/q.min.js"></script>
    <script type="text/javascript" src="#{request.contextPath}/resources/javascript/dist/viewer.min.js"></script>
</h:head>

<ui:insert name="metadata" />

<h:body id="readingMode">
    <f:view locale="#{navigationHelper.locale}">        
        <!-- COinS -->
        <span class="Z3988" title="#{activeDocumentBean.viewManager.contextObject}"></span>
        
        <!-- MESSAGES -->
		<div class="messages">
			<h:messages infoClass="alert alert-success" errorClass="alert alert-danger" />
		</div>
        
        <!-- VIEW -->
        <div class="reading-mode">
            <!-- NAVIGATION -->
            <div class="reading-mode__navigation">
                <div class="row">
                    <!-- LOGO -->
                    <div class="col-xs-3 col-sm-2">
                        <div class="reading-mode__navigation-logo">
                            <a href="#{request.contextPath}/">
								<img src="#{request.contextPath}/resources/themes/#{navigationHelper.theme}/images/template/goobi_logo.png" alt="intranda GmbH Logo" />
	                            <span>Goobi Viewer</span>
                            </a>
                        </div>
                    </div>
                    <!-- CONTROLS -->
                    <div class="col-xs-8 col-sm-8">
                        <div class="reading-mode__navigation-controls">
                            <viewerComponent:imageControls />
                        </div>
                    </div>
                    <!-- GO BACK -->
                    <div class="col-xs-1 col-sm-2">
                        <div class="reading-mode__navigation-goback">
                            <h:outputLink value="#{activeDocumentBean.imageUrl}" title="#{msg.readingMode_leave}">
                                <i class="fa fa-sign-out" aria-hidden="true"></i>
                            </h:outputLink>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- CONTENT -->
            <div class="reading-mode__content">
                <!-- CONTENT VIEW -->
                <main id="contentView" class="reading-mode__content-view invisible in">
                    <!-- IMAGE -->
                    <div class="reading-mode__content-view-image">
                        <viewerComponent:viewReadingModeImage />
                    </div>
                </main>
                
                <!-- CONTENT SIDEBAR -->
                <aside id="contentSidebar" class="reading-mode__content-sidebar invisible in">
                    <!-- TOGGLE SIDEBAR -->
                    <div class="reading-mode__content-sidebar-toggle">
                        <button type="button" class="btn-clean in" data-toggle="sidebar">
                            <i class="fa fa-chevron-right" aria-hidden="true"></i>
                            <i class="fa fa-chevron-left" aria-hidden="true"></i>
                        </button>
                    </div>
                    
                    <div class="reading-mode__content-sidebar-inner">    
                        <!-- TABS -->
                        <div class="reading-mode__content-sidebar-tabs">
                            <ul class="nav nav-tabs" role="tablist">
                                <li role="presentation" class="active">
                                    <a href="#toc" aria-controls="home" role="tab" data-toggle="tab">#{msg.sidebarTocAnchor}</a>
                                </li>
                            </ul>
    
                            <div class="tab-content">
                                <div role="tabpanel" class="tab-pane active" id="toc">
                                    <widgetComponent:widget_toc />
                                </div>
                            </div>
                        </div>
                    </div>
                </aside>
            </div>
        </div>

        <!-- VERSION -->
        <h:outputText id="version_number" value="version: #{navigationHelper.version}" style="display: none;" />
        
        <!-- CUSTOM JAVASCRIPT -->
        <script type="text/javascript">
            var currentPage = '#{navigationHelper.currentPage}';
            var contextPath = '#{request.contextPath}';
            
            $( document ).ready( function() {
                var readingModeConfig = {
                    msg: {
                        fileNotFound: '#{msg.noImage_fileNotFound}'
                    }
                };
                
                viewImage.readingMode.init( readingModeConfig );
            } );
        </script>
        <script type="text/javascript" src="#{request.contextPath}/resources/themes/#{navigationHelper.theme}/javascript/dist/custom.min.js"></script>
    </f:view>
    
    <!-- PIWIK -->
    <h:panelGroup rendered="#{configurationBean.piwikTracking}">
        <viewerComponent:piwikTracking piwikBaseURL="#{configurationBean.piwikBaseURL}" piwikSiteID="#{configurationBean.piwikSiteID}" piwikFile="#{configurationBean.piwikFileName}" />
    </h:panelGroup>
</h:body>
</html>
