<!DOCTYPE html [
	<!ENTITY copy "&#169;">
	<!ENTITY times "&#215;">
	<!ENTITY nbsp "&#160;">
]>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:viewerComponent="http://xmlns.jcp.org/jsf/composite/components"
      xmlns:widgetComponent="http://xmlns.jcp.org/jsf/composite/components/widgets"
      xmlns:templateComponent="http://xmlns.jcp.org/jsf/composite/themes/reference2/components">

<h:head profile="http://dublincore.org/documents/dcq-html/">

    <ui:insert name="head" />

    <meta charset="utf-8" />       
    <meta name="description" content="" />
    <meta name="generator" content="intranda viewer" />
    <meta name="version" content="#{navigationHelper.version}" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <title><h:outputText value="#{activeDocumentBean.titleBarLabel} - " rendered="#{activeDocumentBean.titleBarLabel != null}" />intranda GmbH</title>
    
    <!-- Favicon -->
    <link rel="shortcut icon" href="#{request.contextPath}/resources/themes/#{navigationHelper.theme}/images/template/favicon.ico" />

    <!-- basic CSS -->
    <link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/css/libs/bs/bootstrap.min.css" />
    <link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/css/libs/jQueryUI-1.11.0/jquery-ui.min.css" />
    <link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/css/libs/jQueryUI-1.11.0/jquery-ui.structure.min.css" />
    <link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/css/libs/jQueryUI-1.11.0/jquery-ui.theme.min.css" />
    <link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/css/libs/font-awesome.min.css" />
	<link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/css/dist/viewer.min.css" />
	
    <!-- custom CSS -->
    <link type="text/css" rel="stylesheet" href="#{request.contextPath}/resources/themes/#{navigationHelper.theme}/css/dist/#{navigationHelper.theme}.min.css" />

    <!-- Forces PrimeFaces to Include jquery & jquery-ui -->
    <h:outputScript library="primefaces" name="/jquery/jquery.js" target="head" />
    <h:outputScript library="primefaces" name="/jquery/jquery-plugins.js" target="head" />
    
    <!-- JavaScript -->   
    <script type="text/javascript" src="#{request.contextPath}/resources/javascript/bs/bootstrap.min.js"></script>
    <script type="text/javascript" src="#{request.contextPath}/resources/javascript/tinymce/tinymce.min.js"></script>
    <script type="text/javascript" src="#{request.contextPath}/resources/javascript/datatables.min.js"></script>
    <script type="text/javascript" src="#{request.contextPath}/resources/javascript/jQueryUI-1.11.0/jquery-ui.min.js"></script>
    <script type="text/javascript" src="#{request.contextPath}/resources/javascript/jQueryUI-1.11.0/jquery.ui.touch-punch.min.js"></script>
    <script type="text/javascript" src="#{request.contextPath}/resources/javascript/reactiveX/rx.lite.min.js"></script>
    <script type="text/javascript" src="#{request.contextPath}/resources/javascript/q-promises/q.min.js"></script>
    <script type="text/javascript" src="#{request.contextPath}/resources/javascript/dist/viewer.min.js"></script>
    
	<!-- custom JavaScript -->
	<script type="text/javascript">
		// tinyMCE configuration
        var currLang = '#{navigationHelper.localeString}';
        var tinyLang = null;
        
        switch ( currLang ) {
            case 'de':
                tinyLang = 'de';
                break;
            case 'es':
                tinyLang = 'es';
                break;
            case 'pt':
                tinyLang = 'pt_PT';
                break;
            case 'ru':
                tinyLang = 'ru';
                break;
        }
        
        var tinyConfig = {
            selector : 'textarea.tinyMCE',
            width : '100%',
            height : 200,
            theme : 'modern',
            plugins : [
               "advlist autolink link image lists charmap print preview hr anchor pagebreak spellchecker", 
               "searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking", 
               "save table contextmenu directionality emoticons template paste textcolor"
                
            ],
            toolbar : "bold italic underline | forecolor backcolor | fontsizeselect | alignleft aligncenter alignright alignjustify | bullist numlist  | link | code preview",
            menubar : false,
            statusbar : false,
            relative_urls : false,
            force_br_newlines : false,
            force_p_newlines : false,
            forced_root_block : '',
            setup : function ( ed ) {
                // listen to changes on tinymce input fields
                ed.on( 'change input paste', function ( e ) {
                    tinymce.triggerSave();
                    createPage.disablePreview( createPageConfig.prevBtn );
                    createPage.showPreviewDescription( createPageConfig.prevBtn, createPageConfig.prevDescription );
                } );
            }
        };
	</script>
</h:head>

<ui:insert name="metadata" />

<h:body id="viewerAdmin">
    <f:view locale="#{navigationHelper.locale}">        
        <!-- top anchor for scrolling to top -->
        <span id="top"></span>
        
        <!-- COinS -->
        <span class="Z3988" title="#{activeDocumentBean.viewManager.contextObject}"></span>
        
        <!-- MESSAGES -->
        <div class="messages">
            <h:messages infoClass="alert alert-success" errorClass="alert alert-danger" />
        </div>
        
        <!-- MOBILE TOGGLES -->
        <viewerComponent:mobileToggles sidebarPosition="right" />

        <!-- MOBILE NAVIGATION -->
        <viewerComponent:mobileNavigation displayDropdown="false" />

        <!-- HEADER -->
        <header id="pageHeader">
            <div class="top-header">
                <div class="container">
                    <div class="row">
                        <div class="col-xs-6 col-sm-5">
                            <!-- LOGO -->
                            <div class="top-header__logo">
                            	<a href="http://www.intranda.com/" target="_blank">
	                            	intranda GmbH
                            	</a>
                            </div>
                        </div>
                        <div class="col-xs-6 col-sm-7">
                            <!-- TOP NAV -->
                            <nav class="top-header__nav">
                                <!-- CHANGE LOCAL -->
                                <viewerComponent:changeLocal toggleLanguage="false" showFlags="false" showPortuguese="false" showRussian="false" showSpanish="false" />

                                <!-- LINKS -->
                                <templateComponent:topNav />
                                
                                <div class="clearfix"></div>
                            </nav>                        
                        </div>
                    </div>
                    
                </div>
            </div>

            <div class="header-actions">
                <div class="container">
                    <div class="row">
                        <div class="col-xs-12 col-sm-6">
                            <div class="header-actions__logo">
                                <a href="#{request.contextPath}/">
                                    <img src="#{request.contextPath}/resources/themes/#{navigationHelper.theme}/images/template/goobi_logo.png" alt="intranda GmbH Logo" />
                                    <span>Goobi viewer</span>
                                </a>
                            </div>
                        </div>
                        <div class="col-xs-12 col-sm-6">
                            <div class="header-actions__search">
                                <!-- SEARCH FIELD -->
                                <h:panelGroup rendered="#{navigationHelper.currentPage != 'search'}">
                                    <div class="row">
                                        <div class="col-xs-6 col-xs-offset-6">
                                            <widgetComponent:widget_searchField />
                                        </div>
                                    </div>                                    
                                    <div class="row">
                                        <div class="col-xs-6 col-xs-offset-6">
                                            <a href="#{navigationHelper.applicationUrl}searchadvanced/" class="header-actions__search-advanced">#{msg.searchAdvanced}</a>
                                        </div>
                                    </div>
                                </h:panelGroup>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- MAIN NAVIGATION -->
        <div class="main-navigation">
            <div class="container">
                <!-- DESKTOP NAVIGATION -->
                <viewerComponent:navigation megaMenu="false" />
            </div>
        </div>

        <!-- MAIN -->
        <div id="pageContent" class="page-content">
            <div class="container">
                <div class="row row-offcanvas row-offcanvas-right">
                    <main id="main" class="col-xs-12 col-sm-9"> 
                        <!-- BREADCRUMBS -->
                        <ui:insert name="breadcrumbs" />
                        
                        <!-- CONTENT --> 
                        <ui:insert name="content" /> 
                    </main>

                    <aside id="sidebar" class="col-xs-9 col-sm-3 sidebar-offcanvas">
                        <!-- SIDEBAR WIDGETS -->
                        <ui:insert name="sidebar" />

                        <!-- RSS FEED -->
                        <ui:insert name="rssFeed" />
                    </aside>
                </div>
            </div>
        </div>

        <!-- FOOTER -->
        <div id="pageFooter">
            <div class="container">
                <templateComponent:footerNavigation />
            </div>
        </div>

        <!-- VERSION -->
        <h:outputText id="version_number" value="version: #{navigationHelper.version}" style="display: none;" />
        
        <!-- link for scrolling to top -->
        <span class="icon-totop" title="#{msg.topOfPage}">
            <i class="fa fa-chevron-up" aria-hidden="true"></i>
        </span>
        
        <!-- custom javascript -->
        <script type="text/javascript">
            var currentPage = '#{navigationHelper.currentPage}';
        </script>
        <script type="text/javascript" src="#{request.contextPath}/resources/themes/#{navigationHelper.theme}/javascript/dist/custom.min.js"></script>
    </f:view>
    
    <!-- PIWIK -->
    <h:panelGroup rendered="#{configurationBean.piwikTracking}">
        <viewerComponent:piwikTracking piwikBaseURL="#{configurationBean.piwikBaseURL}" piwikSiteID="#{configurationBean.piwikSiteID}" piwikFile="#{configurationBean.piwikFileName}" />
    </h:panelGroup>
</h:body>
</html>
